---
import Image from './temp-image.astro'
const { data } = Astro.props
---

<div class="masonry-container" style={`grid-template-columns: repeat(${data.length}, 1fr);`}>
	{
		data &&
			data.map((columns) => (
				<div class="col">
					{columns.map((item) => (
						<Image aspect={item.aspect} />
					))}
				</div>
			))
	}
</div>

<style>
	.masonry-container {
		display: grid;
		grid-template-columns: repeat(3, 1fr);
		gap: 2rem;

		.col {
			display: flex;
			flex-direction: column;
			gap: 2rem;
		}
	}

	@media (max-width: 980px) {
		.masonry-container {
			grid-template-columns: repeat(2, 1fr) !important;
		}
	}

	@media (max-width: 640px) {
		.masonry-container {
			gap: 1rem;

			.col {
				gap: 1rem;
			}
		}
	}
</style>
